# Django Settings
SECRET_KEY=your-secret-key-here-change-in-production
DEBUG=True
ALLOWED_HOSTS=localhost,127.0.0.1,backend

# Database
DATABASE_URL=postgresql://muejam_user:muejam_password@postgres:5432/muejam

# Database Replication - Read Replicas
# Configure at least 3 read replicas for high availability
DATABASE_REPLICA_1_HOST=postgres-replica-1
DATABASE_REPLICA_1_PORT=5432
DATABASE_REPLICA_1_WEIGHT=1.0

DATABASE_REPLICA_2_HOST=postgres-replica-2
DATABASE_REPLICA_2_PORT=5432
DATABASE_REPLICA_2_WEIGHT=1.0

DATABASE_REPLICA_3_HOST=postgres-replica-3
DATABASE_REPLICA_3_PORT=5432
DATABASE_REPLICA_3_WEIGHT=1.0

# Connection Pool Settings
DB_POOL_MIN_CONNECTIONS=10
DB_POOL_MAX_CONNECTIONS=50
DB_POOL_IDLE_TIMEOUT=300

# Workload Isolation Settings
MAX_REPLICA_LAG=5.0
REPLICA_LAG_CHECK_INTERVAL=10

# High Availability Settings
ENABLE_AUTO_FAILOVER=True
FAILOVER_TIMEOUT=30
HEALTH_CHECK_INTERVAL=10
HEALTH_CHECK_TIMEOUT=5

# Failover Notification Settings
FAILOVER_EMAIL_ENABLED=False
FAILOVER_EMAIL_RECIPIENTS=admin@example.com,ops@example.com
FAILOVER_SLACK_ENABLED=False
FAILOVER_SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
FAILOVER_PAGERDUTY_ENABLED=False
FAILOVER_PAGERDUTY_KEY=your-pagerduty-integration-key

# Valkey/Redis
VALKEY_URL=redis://valkey:6379/0
CELERY_BROKER_URL=redis://valkey:6379/0
CELERY_RESULT_BACKEND=redis://valkey:6379/0

# Cache TTL Configuration (in seconds)
# User-related data
CACHE_TTL_USER_PROFILE=300
CACHE_TTL_USER_PREFERENCES=600
CACHE_TTL_USER_LIBRARY=180

# Story-related data
CACHE_TTL_STORY_METADATA=600
CACHE_TTL_STORY_CHAPTERS=900
CACHE_TTL_STORY_CONTENT=1800

# Discovery and feeds
CACHE_TTL_TRENDING=300
CACHE_TTL_NEW_STORIES=180
CACHE_TTL_RECOMMENDATIONS=600

# Social data
CACHE_TTL_WHISPERS_FEED=60
CACHE_TTL_NOTIFICATIONS=30
CACHE_TTL_FOLLOWER_COUNTS=300

# Search results
CACHE_TTL_SEARCH_RESULTS=300
CACHE_TTL_AUTOCOMPLETE=600

# Static/rarely changing data
CACHE_TTL_GENRES=3600
CACHE_TTL_TAGS=3600

# Default TTL
CACHE_TTL_DEFAULT=300

# L1 Cache Configuration (in-memory LRU cache)
L1_CACHE_MAX_SIZE=1000
L1_CACHE_DEFAULT_TTL=60

# Rate Limiting Configuration
RATE_LIMIT_ENABLED=True
RATE_LIMIT_REDIS_URL=redis://valkey:6379/0
RATE_LIMIT_PER_USER=100
RATE_LIMIT_GLOBAL=10000
RATE_LIMIT_WINDOW=60
RATE_LIMIT_ADMIN_BYPASS=True

# Clerk Authentication
CLERK_SECRET_KEY=your-clerk-secret-key
CLERK_PUBLISHABLE_KEY=your-clerk-publishable-key

# AWS S3
AWS_ACCESS_KEY_ID=your-aws-access-key
AWS_SECRET_ACCESS_KEY=your-aws-secret-key
AWS_REGION=us-east-1
AWS_S3_BUCKET=muejam-media

# Resend Email
RESEND_API_KEY=your-resend-api-key

# Sentry Error Tracking (Requirements 13.1, 13.2, 13.6)
# Get your DSN from: https://sentry.io/settings/projects/
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=0.1
SENTRY_PROFILES_SAMPLE_RATE=0.1
APP_VERSION=1.0.0

# Sentry Alert Configuration (Requirements 13.4, 13.5, 13.12)
SENTRY_CRITICAL_ERROR_THRESHOLD=10
SENTRY_ERROR_RATE_THRESHOLD=0.01
SENTRY_EMAIL_ALERTS_ENABLED=True
SENTRY_ALERT_EMAIL_RECIPIENTS=oncall@example.com,engineering@example.com
SENTRY_SLACK_ALERTS_ENABLED=False
SENTRY_SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL
SENTRY_SLACK_CHANNEL=#engineering-alerts

# Application Performance Monitoring (APM) (Requirements 14.1-14.12)
# Choose your APM provider: 'newrelic' or 'datadog'
APM_ENABLED=False
APM_PROVIDER=newrelic

# New Relic Configuration
# Get your license key from: https://one.newrelic.com/admin-portal/api-keys/home
NEW_RELIC_LICENSE_KEY=
NEW_RELIC_APP_NAME=MueJam Library
NEW_RELIC_ENVIRONMENT=development

# DataDog Configuration
# Get your API keys from: https://app.datadoghq.com/organization-settings/api-keys
DATADOG_API_KEY=
DATADOG_APP_KEY=
DATADOG_SERVICE_NAME=muejam-backend
DATADOG_ENVIRONMENT=development

# Performance Thresholds (Requirements 14.7, 14.8)
API_P95_THRESHOLD_MS=500
API_P99_THRESHOLD_MS=1000
SLOW_QUERY_THRESHOLD_MS=100
DB_POOL_UTILIZATION_THRESHOLD=0.8

# Transaction Tracing
TRANSACTION_TRACE_ENABLED=True
SLOW_SQL_ENABLED=True

# Performance Alert Configuration (Requirements 14.7, 14.8)
PERFORMANCE_ALERT_EMAIL_ENABLED=True
PERFORMANCE_ALERT_EMAIL_RECIPIENTS=oncall@example.com,devops@example.com
PERFORMANCE_ALERT_SLACK_ENABLED=False
PERFORMANCE_ALERT_SLACK_WEBHOOK_URL=https://hooks.slack.com/services/YOUR/WEBHOOK/URL

# Google Safe Browsing API (for URL validation in content moderation)
# Get your API key from: https://developers.google.com/safe-browsing/v4/get-started
GOOGLE_SAFE_BROWSING_API_KEY=your-google-safe-browsing-api-key

# Google reCAPTCHA v3 (for bot protection)
# Get your keys from: https://www.google.com/recaptcha/admin
RECAPTCHA_SECRET_KEY=your-recaptcha-secret-key
RECAPTCHA_SCORE_THRESHOLD=0.5

# Frontend URL
FRONTEND_URL=http://localhost:3000

# CORS
CORS_ALLOWED_ORIGINS=http://localhost:3000
